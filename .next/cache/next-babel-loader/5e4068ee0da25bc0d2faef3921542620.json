{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\elvin\\\\Development\\\\spotify-visual-creator\\\\components\\\\AnimationPanel.jsx\";\nvar __jsx = React.createElement;\nimport * as THREE from 'three';\nimport React from 'react';\nimport '../styles/AnimationPanel.scss';\n\nvar AnimationPanel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AnimationPanel, _React$Component);\n\n  function AnimationPanel(props) {\n    _classCallCheck(this, AnimationPanel);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(AnimationPanel).call(this, props));\n  }\n\n  _createClass(AnimationPanel, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.isPlaying = false;\n      this.scene = new THREE.Scene();\n      this.camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      this.renderer = new THREE.WebGLRenderer();\n      this.renderer.setSize(window.innerWidth / 1.5, window.innerHeight / 1.5);\n      this.mount.appendChild(this.renderer.domElement);\n      var material = new THREE.LineBasicMaterial({\n        color: 0xfd44f5\n      });\n      var geometry = new THREE.Geometry();\n      geometry.vertices.push(new THREE.Vector3(0, 0.5, 10), new THREE.Vector3(0, 0, 0));\n      var angleDeltas = [];\n      var lines = [];\n\n      for (var i = 0; i < 40; i++) {\n        var line = new THREE.Line(geometry, material);\n\n        if (i < 20) {\n          line.rotateX(0.07 * i);\n        } else {\n          line.rotateX(-0.07 * (i - 20));\n        }\n\n        lines.push(line);\n        angleDeltas.push(0.02);\n        this.scene.add(line);\n      }\n\n      this.camera.position.z = 10;\n\n      var animate = function animate() {\n        if (!this.isPlaying) {\n          return;\n        }\n\n        requestAnimationFrame(animate);\n        lines.forEach(function (line, index) {\n          if (line.rotation.y > 1.6) {\n            angleDeltas[index] = -angleDeltas[index];\n          }\n\n          if (line.rotation.y < -1.6) {\n            angleDeltas[index] = -angleDeltas[index];\n          }\n\n          line.rotation.y += angleDeltas[index];\n        });\n        this.renderer.render(this.scene, this.camera);\n      };\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      this.isPlaying ^= this.isPlaying;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return __jsx(\"div\", {\n        className: \"AnimationPanel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        ref: function ref(_ref) {\n          return _this.mount = _ref;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), __jsx(\"button\", {\n        onClick: this.play,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"play\"));\n    }\n  }]);\n\n  return AnimationPanel;\n}(React.Component);\n\nexport default AnimationPanel;","map":{"version":3,"sources":["C:/Users/elvin/Development/spotify-visual-creator/components/AnimationPanel.jsx"],"names":["THREE","React","AnimationPanel","props","isPlaying","scene","Scene","camera","PerspectiveCamera","window","innerWidth","innerHeight","renderer","WebGLRenderer","setSize","mount","appendChild","domElement","material","LineBasicMaterial","color","geometry","Geometry","vertices","push","Vector3","angleDeltas","lines","i","line","Line","rotateX","add","position","z","animate","requestAnimationFrame","forEach","index","rotation","y","render","ref","play","Component"],"mappings":"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","sourcesContent":["import * as THREE from 'three';\r\nimport React from 'react';\r\nimport '../styles/AnimationPanel.scss'\r\n\r\nclass AnimationPanel extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.isPlaying = false;\r\n    this.scene = new THREE.Scene();\r\n    this.camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);\r\n    this.renderer = new THREE.WebGLRenderer();\r\n    this.renderer.setSize(window.innerWidth / 1.5, window.innerHeight / 1.5);\r\n    this.mount.appendChild(this.renderer.domElement);\r\n    let material = new THREE.LineBasicMaterial({\r\n      color: 0xfd44f5,\r\n    });\r\n\r\n    let geometry = new THREE.Geometry();\r\n    geometry.vertices.push(\r\n      new THREE.Vector3( 0, 0.5, 10 ),\r\n      new THREE.Vector3( 0, 0, 0 )\r\n    );\r\n\r\n    let angleDeltas = [];\r\n    let lines = [];\r\n    for (let i = 0; i < 40; i++) {\r\n      const line = new THREE.Line(geometry, material);\r\n      if (i < 20) {\r\n        line.rotateX(0.07 * i);\r\n      } else {\r\n        line.rotateX(-0.07 * (i - 20));\r\n      }\r\n      lines.push(line);\r\n      angleDeltas.push(0.02);\r\n      this.scene.add(line);\r\n    }\r\n    this.camera.position.z = 10;\r\n    let animate = function () {\r\n      if (!this.isPlaying) {\r\n        return;\r\n      }\r\n      requestAnimationFrame(animate);\r\n      lines.forEach((line, index) => {\r\n        if (line.rotation.y > 1.6) {\r\n          angleDeltas[index] = -(angleDeltas[index]);\r\n        }\r\n        if (line.rotation.y < -1.6) {\r\n          angleDeltas[index] = -(angleDeltas[index]);\r\n        }\r\n        line.rotation.y += angleDeltas[index];\r\n      });\r\n      this.renderer.render( this.scene, this.camera );\r\n    };\r\n  }\r\n\r\n  play() {\r\n    this.isPlaying ^= this.isPlaying;\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"AnimationPanel\">\r\n        <div ref={ref => (this.mount = ref)} />\r\n        <button onClick={this.play}>\r\n          play\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AnimationPanel;"]},"metadata":{},"sourceType":"module"}